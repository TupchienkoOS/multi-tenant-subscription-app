(this["webpackJsonpmulti-tenant-subscription-app"]=this["webpackJsonpmulti-tenant-subscription-app"]||[]).push([[0],{46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a(1),c=a.n(n),r=a(20),o=a.n(r),i=(a(46),a(47),a(48),a(49),a(50),a(51),a(52),a(15)),l=a(7),d=a(8),j=a(10),m=a(9),b=a(17),u=a(5),h=a(14),p=function(e){var t=e.id,a=(e.label,e.type),n=e.name,c=e.placeholder,r=e.value,o=e.onChangeInput;e.error;return Object(s.jsx)("div",{className:"form-group",children:Object(s.jsx)("input",{type:a,className:"form-control",id:t,name:n,placeholder:c,value:r,onChange:o})})},x=a(11),O=a.n(x),f=function(e){var t=e.id,a=e.value,n=e.hover,c=e.name,r=e.label,o=e.onChangeInput,i=e.onMouseEnter,l=e.onMouseLeave;return Object(s.jsx)("div",{className:"form-group",children:Object(s.jsx)("div",{className:"checkbox i-checks",children:Object(s.jsxs)("label",{htmlFor:t,className:O()({hover:!n}),children:[Object(s.jsx)("div",{className:O()({"icheckbox_square-green hover":n,"icheckbox_square-green checked":a,"icheckbox_square-green":!a}),children:Object(s.jsx)("input",{id:t,type:"checkbox",name:c,style:{position:"absolute",opacity:0},onChange:o,onMouseEnter:i,onMouseLeave:l})}),Object(s.jsx)("i",{})," ",r]})})})},g=function(e){var t=e.id,a=e.name,n=e.type,c=e.label,r=e.className,o=e.onClick;return Object(s.jsx)("button",{id:t,name:a,type:n,className:r,onClick:o,children:c})},v=a(18),N=a.n(v),y=a(21),w=a(13),C=a.n(w),k=JSON.parse(localStorage.getItem("companies")),I=JSON.parse(localStorage.getItem("users")),S=function(e){Object(j.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(l.a)(this,a),e=t.call(this),console.log("DbApi ctor"),e.state={users:[],companies:[]},e}return Object(d.a)(a,[{key:"shouldComponentUpdate",value:function(){console.log("DbApi shouldComponentUpdate")}},{key:"componentDidMount",value:function(){console.log("DbApi componentDidMount"),this.setState({users:JSON.parse(localStorage.getItem("users"))})}},{key:"render",value:function(){return Object(s.jsx)("div",{})}}],[{key:"updateUsers",value:function(){localStorage.users=JSON.stringify(I)}}]),a}(n.Component);S.getCurrentUserId=function(){return C.a.get(["user"])},S.updateCompanies=function(){localStorage.companies=JSON.stringify(k)},S.addCompany=function(){var e=Object(y.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S.deleteCompany=function(){var e=Object(y.a)(N.a.mark((function e(t){var a,s;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=S.getCurrentUserId(),s=I.map((function(e){if(e.id===+a){var s=e.companies.filter((function(e){return e!==t}));e.companies=s}return e})),I=s,S.updateUsers(),e.next=6,Promise.resolve();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S.registerCompany=function(e){k.push({id:k.length+1,role:e.role,name:e.name,login:e.email}),console.log("company registered",k),S.updateCompanies()},S.registerUser=function(e){I.push({id:I.length+1,name:e.name,role:1,login:e.email,companies:[],messages:[],notifications:[],avatarSmall:""}),console.log("registeUser",I),S.updateUsers()},S.getUserByLogin=function(e){var t=I.filter((function(t){return t.login===e.name}))[0];return"undefined"===typeof t&&(t=k.filter((function(t){return t.login===e.name}))[0]),t},S.getUserById=function(e){return I.filter((function(t){return t.id===+e}))[0]},S.getCompanyById=function(e){return k.filter((function(t){return t.id===+e}))[0]},S.getUserCompanies=function(e){return"undefined"!==typeof e?k.filter((function(t){return e.includes(t.id)})):[]};var P,L=function(e){Object(j.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).onMouseEnter=function(e){s.setState({hover:{termsNPolicy:!0}})},s.onMouseLeave=function(e){s.setState({hover:{termsNPolicy:!1}})},s.onChangeInput=function(e){var t=s.state.values,a=e.target,n=a.name,c=a.value,r=a.checked,o=a.type,l=Object(h.a)({},t),d="checkbox"===o?r:c;s.setState({values:Object(h.a)(Object(h.a)({},l),{},Object(i.a)({},n,d))})},s.onSubmit=function(){return function(e){e.preventDefault(),S.registerUser(s.state.values),s.props.history.push("/user/login")}},s.state={values:{name:"",email:"",password:"",termsNPolicy:!1},hover:{termsNPolicy:!1}},console.log(e),s}return Object(d.a)(a,[{key:"componentDidUpdate",value:function(){console.log("didupdate register")}},{key:"componentDidMount",value:function(){console.log("didmount register"),document.body.className="gray-bg"}},{key:"render",value:function(){var e=this.state.values,t=e.name,a=e.email,n=e.password,c=e.termsNPolicy;return Object(s.jsx)("div",{children:Object(s.jsx)("div",{className:"middle-box text-center loginscreen   animated fadeInDown",children:Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{children:Object(s.jsx)("h1",{className:"logo-name",children:"IN+"})}),Object(s.jsx)("h3",{children:"Register to IN+"}),Object(s.jsx)("p",{children:"Create account to see it in action."}),Object(s.jsxs)("form",{className:"m-t",children:[Object(s.jsx)(p,{id:"Name",name:"name",type:"text",placeholder:"Name",value:t,onChangeInput:this.onChangeInput}),Object(s.jsx)(p,{id:"Email",name:"email",type:"email",placeholder:"Email",value:a,onChangeInput:this.onChangeInput}),Object(s.jsx)(p,{id:"Password",type:"password",name:"password",placeholder:"Password",value:n,onChangeInput:this.onChangeInput}),Object(s.jsx)(f,{id:"TermsNPolicy",name:"termsNPolicy",value:c,label:"Agree the terms and policy",hover:this.state.hover.termsNPolicy,onChangeInput:this.onChangeInput,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave}),Object(s.jsx)(g,{id:"register",name:"register",type:"submit",className:"btn btn-primary block full-width m-b",label:"Register",onClick:this.onSubmit()}),Object(s.jsx)("p",{className:"text-muted text-center",children:Object(s.jsx)("small",{children:"Already have an account?"})}),Object(s.jsx)("span",{className:"btn btn-sm btn-white btn-block",children:Object(s.jsx)(b.b,{to:"/user/login",children:"Login"})})]}),Object(s.jsx)("p",{className:"m-t",children:Object(s.jsx)("small",{children:"Inspinia we app framework base on Bootstrap 3 \xa9 2014"})})]})})})}}]),a}(c.a.Component),M=Object(u.i)(L),T=[{id:1,name:"user",defaultPath:"/user"},{id:2,name:"company",defaultPath:"/company"}],U="user",D="company",A=(P={},Object(i.a)(P,U,1),Object(i.a)(P,D,2),P),E=function(e){Object(j.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).isCompany=Object(u.f)(window.location.pathname,{path:"/multi-tenant-subscription-app/company",exact:!1,strict:!0}),s.isUser=Object(u.f)(window.location.pathname,{path:"/multi-tenant-subscription-app/user",exact:!1,strict:!0}),s.getLoginRole=function(){var e;return s.isUser?e=A.user:s.isCompany&&(e=A.company),e},s.onChangeInput=function(e){var t=s.state.values,a=e.target,n=a.name,c=a.value,r=Object(h.a)({},t);s.setState({values:Object(h.a)(Object(h.a)({},r),{},Object(i.a)({},n,c))})},console.log("login props",e),s.state={values:{name:"",password:"",role:null}},s}return Object(d.a)(a,[{key:"componentDidUpdate",value:function(){}},{key:"componentDidMount",value:function(){console.log("didmount login"),document.body.className="gray-bg",this.onChangeInput({target:{name:"role",value:this.getLoginRole()}})}},{key:"render",value:function(){var e=this,t=this.state.values,a=t.login,n=t.password,c=this.props.onLogin;return Object(s.jsx)("div",{children:Object(s.jsx)("div",{className:"middle-box text-center loginscreen animated fadeInDown",children:Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{children:Object(s.jsx)("h1",{className:"logo-name",children:"IN+"})}),Object(s.jsx)("h3",{children:"Welcome to IN+"}),Object(s.jsx)("p",{children:"Perfectly designed and precisely prepared admin theme with over 50 pages with extra new web app views."}),Object(s.jsx)("p",{children:"Login in. To see it in action."}),Object(s.jsxs)("form",{className:"m-t",children:[Object(s.jsx)(p,{id:"Name",name:"name",type:"text",placeholder:"Name",value:a,onChangeInput:this.onChangeInput}),Object(s.jsx)(p,{id:"Password",type:"password",name:"password",placeholder:"Password",value:n,onChangeInput:this.onChangeInput}),Object(s.jsx)(g,{id:"login",name:"login",type:"button",className:"btn btn-primary block full-width m-b",label:"Login",onClick:function(){c(e.state.values)}}),Object(s.jsx)("a",{href:"#",children:Object(s.jsx)("small",{children:"Forgot password?"})}),Object(s.jsx)("p",{className:"text-muted text-center",children:Object(s.jsx)("small",{children:"Do not have an account?"})}),Object(s.jsx)("span",{className:"btn btn-sm btn-white btn-block",children:Object(s.jsx)(b.b,{to:"/user/register",children:"Create an account"})})]}),Object(s.jsxs)("p",{className:"m-t",children:[" ",Object(s.jsx)("small",{children:"Inspinia we app framework base on Bootstrap 3 \xa9 2014"})," "]})]})})})}}]),a}(c.a.Component),F=Object(u.i)(E),R=a(27),z=a(19),B=function(e){var t=e.items,a=e.subitems,c=Object(n.useState)(!1),r=Object(z.a)(c,2),o=r[0],i=r[1];return Object(s.jsx)(s.Fragment,{children:t.map((function(e){return Object(s.jsxs)("li",{className:o===e.id?"active":null,onClick:(n=e.id,function(e){e.preventDefault(),i(n!==o&&n)}),children:[Object(s.jsxs)("a",{href:"/#",children:[Object(s.jsx)("i",{className:"fa fa-th-large"})," ",Object(s.jsx)("span",{className:"nav-label",children:e.name})," ",Object(s.jsx)("span",{className:"fa arrow"})]}),(t=e.id,a.filter((function(e){return e.itemId===t}))).map((function(t){return Object(s.jsx)("ul",{className:o===e.id?"nav nav-second-level collapse in":"nav nav-second-level collapse",children:Object(s.jsx)("li",{children:Object(s.jsx)("a",{href:"index.html",children:t.name})})},t.id)}))]},e.id);var t,n}))})},W=[{id:1,name:"YOUR COMPANIES"},{id:2,name:"COMPANIES"}],_=[{id:1,name:"TEST1",itemId:1},{id:2,name:"TEST2",itemId:2}],J=function(e){var t=e.user,a=e.role,n=(t.firstName,t.lastName),c=t.name,r=t.avatarSmall;return Object(s.jsx)("nav",{className:"navbar-default navbar-static-side",role:"navigation",children:Object(s.jsx)("div",{className:"sidebar-collapse",children:Object(s.jsxs)("ul",{className:"nav metismenu",id:"side-menu",children:[Object(s.jsxs)("li",{className:"nav-header",children:[Object(s.jsxs)("div",{className:"dropdown profile-element",children:[Object(s.jsx)("img",{alt:"profile-icon",className:"rounded-circle",src:r}),Object(s.jsxs)("span",{"data-toggle":"dropdown",className:"dropdown-toggle",href:"#",children:[Object(s.jsx)("span",{className:"block m-t-xs font-bold",children:c+" "+(n||"")}),Object(s.jsxs)("span",{className:"text-muted text-xs block",children:[a,Object(s.jsx)("b",{className:"caret"})]})]}),Object(s.jsxs)("ul",{className:"dropdown-menu animated fadeInRight m-t-xs",children:[Object(s.jsx)("li",{children:Object(s.jsx)("a",{className:"dropdown-item",href:"profile.html",children:"Profile"})}),Object(s.jsx)("li",{children:Object(s.jsx)("a",{className:"dropdown-item",href:"contacts.html",children:"Contacts"})}),Object(s.jsx)("li",{children:Object(s.jsx)("a",{className:"dropdown-item",href:"mailbox.html",children:"Mailbox"})}),Object(s.jsx)("li",{className:"dropdown-divider"}),Object(s.jsx)("li",{children:Object(s.jsx)("a",{className:"dropdown-item",href:"login.html",children:"Logout"})})]})]}),Object(s.jsx)("div",{className:"logo-element",children:"IN+"})]}),Object(s.jsx)(B,{items:W,subitems:_})]})})})},q=function(e){var t=e.onLogOut,a=e.notifications,n=e.messages,c=e.role;return Object(s.jsx)("div",{className:"row border-bottom",children:Object(s.jsxs)("nav",{className:"navbar navbar-static-top",role:"navigation",children:[Object(s.jsxs)("div",{className:"navbar-header",children:[Object(s.jsxs)("a",{className:"navbar-minimalize minimalize-styl-2 btn btn-primary ",href:"#",children:[Object(s.jsx)("i",{className:"fa fa-bars"})," "]}),Object(s.jsx)("form",{role:"search",className:"navbar-form-custom",action:"search_results.html",children:Object(s.jsx)("div",{className:"form-group",children:Object(s.jsx)("input",{type:"text",placeholder:"Search for something...",className:"form-control",name:"top-search",id:"top-search"})})})]}),Object(s.jsxs)("ul",{className:"nav navbar-top-links navbar-right",children:[Object(s.jsx)("li",{children:Object(s.jsx)("span",{className:"m-r-sm text-muted welcome-message",children:"Welcome to INSPINIA+ Admin Theme."})}),Object(s.jsxs)("li",{className:"dropdown",children:[Object(s.jsxs)("a",{className:"dropdown-toggle count-info","data-toggle":"dropdown",href:"#",children:[Object(s.jsx)("i",{className:"fa fa-envelope"})," ",function(){if("undefined"!==typeof n){var e=Object.keys(n).length;return 0!==e?Object(s.jsx)("div",{children:Object(s.jsx)("span",{className:"label label-primary",children:e})}):null}}()]}),Object(s.jsxs)("ul",{className:"dropdown-menu dropdown-messages",children:[Object(s.jsx)("li",{children:Object(s.jsxs)("div",{className:"dropdown-messages-box",children:[Object(s.jsx)("a",{className:"dropdown-item float-left",href:"profile.html",children:Object(s.jsx)("img",{alt:"image",className:"rounded-circle",src:"./img/a7.jpg"})}),Object(s.jsxs)("div",{className:"media-body",children:[Object(s.jsx)("small",{className:"float-right",children:"46h ago"}),Object(s.jsx)("strong",{children:"Mike Loreipsum"})," started following"," ",Object(s.jsx)("strong",{children:"Monica Smith"}),". ",Object(s.jsx)("br",{}),Object(s.jsx)("small",{className:"text-muted",children:"3 days ago at 7:58 pm - 10.06.2014"})]})]})}),Object(s.jsx)("li",{className:"dropdown-divider"}),Object(s.jsx)("li",{children:Object(s.jsxs)("div",{className:"dropdown-messages-box",children:[Object(s.jsx)("a",{className:"dropdown-item float-left",href:"profile.html",children:Object(s.jsx)("img",{alt:"image",className:"rounded-circle",src:"./img/a4.jpg"})}),Object(s.jsxs)("div",{className:"media-body ",children:[Object(s.jsx)("small",{className:"float-right text-navy",children:"5h ago"}),Object(s.jsx)("strong",{children:"Chris Johnatan Overtunk"})," started following"," ",Object(s.jsx)("strong",{children:"Monica Smith"}),". ",Object(s.jsx)("br",{}),Object(s.jsx)("small",{className:"text-muted",children:"Yesterday 1:21 pm - 11.06.2014"})]})]})}),Object(s.jsx)("li",{className:"dropdown-divider"}),Object(s.jsx)("li",{children:Object(s.jsxs)("div",{className:"dropdown-messages-box",children:[Object(s.jsx)("a",{className:"dropdown-item float-left",href:"profile.html",children:Object(s.jsx)("img",{alt:"image",className:"rounded-circle",src:"./img/profile.jpg"})}),Object(s.jsxs)("div",{className:"media-body ",children:[Object(s.jsx)("small",{className:"float-right",children:"23h ago"}),Object(s.jsx)("strong",{children:"Monica Smith"})," love"," ",Object(s.jsx)("strong",{children:"Kim Smith"}),". ",Object(s.jsx)("br",{}),Object(s.jsx)("small",{className:"text-muted",children:"2 days ago at 2:30 am - 11.06.2014"})]})]})}),Object(s.jsx)("li",{className:"dropdown-divider"}),Object(s.jsx)("li",{children:Object(s.jsx)("div",{className:"text-center link-block",children:Object(s.jsxs)("a",{href:"mailbox.html",className:"dropdown-item",children:[Object(s.jsx)("i",{className:"fa fa-envelope"})," ",Object(s.jsx)("strong",{children:"Read All Messages"})]})})})]})]}),Object(s.jsxs)("li",{className:"dropdown",children:[Object(s.jsxs)("a",{className:"dropdown-toggle count-info","data-toggle":"dropdown",href:"#",children:[Object(s.jsx)("i",{className:"fa fa-bell"})," ",function(){if("undefined"!==typeof a){var e=Object.keys(a).length;return 0!==e?Object(s.jsx)("div",{children:Object(s.jsx)("span",{className:"label label-primary",children:e})}):null}}()]}),Object(s.jsxs)("ul",{className:"dropdown-menu dropdown-alerts",children:[Object(s.jsx)("li",{children:Object(s.jsx)("a",{href:"mailbox.html",className:"dropdown-item",children:Object(s.jsxs)("div",{children:[Object(s.jsx)("i",{className:"fa fa-envelope fa-fw"})," You have 16 messages",Object(s.jsx)("span",{className:"float-right text-muted small",children:"4 minutes ago"})]})})}),Object(s.jsx)("li",{className:"dropdown-divider"}),Object(s.jsx)("li",{children:Object(s.jsx)("a",{href:"profile.html",className:"dropdown-item",children:Object(s.jsxs)("div",{children:[Object(s.jsx)("i",{className:"fa fa-twitter fa-fw"})," 3 New Followers",Object(s.jsx)("span",{className:"float-right text-muted small",children:"12 minutes ago"})]})})}),Object(s.jsx)("li",{className:"dropdown-divider"}),Object(s.jsx)("li",{children:Object(s.jsx)("a",{href:"grid_options.html",className:"dropdown-item",children:Object(s.jsxs)("div",{children:[Object(s.jsx)("i",{className:"fa fa-upload fa-fw"})," Server Rebooted",Object(s.jsx)("span",{className:"float-right text-muted small",children:"4 minutes ago"})]})})}),Object(s.jsx)("li",{className:"dropdown-divider"}),Object(s.jsx)("li",{children:Object(s.jsx)("div",{className:"text-center link-block",children:Object(s.jsxs)("a",{href:"notifications.html",className:"dropdown-item",children:[Object(s.jsx)("strong",{children:"See All Alerts"}),Object(s.jsx)("i",{className:"fa fa-angle-right"})]})})})]})]}),Object(s.jsx)("li",{children:Object(s.jsxs)("a",{onClick:function(){return t(c)},children:[Object(s.jsx)("i",{className:"fa fa-sign-out"})," Log out"]})})]})]})})},H=function(){return Object(s.jsx)("div",{className:"row wrapper border-bottom white-bg page-heading",children:Object(s.jsx)("div",{className:"col-lg-10",children:Object(s.jsx)("h2",{children:"Profile"})})})},V=function(e){var t=e.companies,a=(e.onMouseEnter,e.onMouseLeave,e.deleteCompany),n=Object(u.g)();return Object(s.jsx)("tbody",{children:t.map((function(e){var t,c="/company/profile/".concat(e.id);return Object(s.jsxs)("tr",{id:e.id,className:"footable-even",onClick:(t=e.id,function(e){console.log(e.currentTarget.id,t),n.push("/company/profile/".concat(t))}),children:[Object(s.jsxs)("td",{className:"footable-visible footable-first-column",children:[Object(s.jsx)("span",{className:"footable-toggle"}),Object(s.jsxs)(b.b,{to:c,children:[" ",e.name]})]}),Object(s.jsx)("td",{className:"footable-visible",children:e.model}),Object(s.jsx)("td",{className:"footable-visible",children:e.price}),Object(s.jsx)("td",{className:"footable-visible",children:Object(s.jsx)("span",{className:"label label-primary",children:e.status})}),Object(s.jsx)("td",{className:"text-right footable-visible footable-last-column",children:Object(s.jsxs)("div",{className:"btn-group",children:[Object(s.jsx)("button",{className:"btn-white btn btn-xs",children:"View"}),Object(s.jsx)("button",{className:"btn-white btn btn-xs",children:"Edit"}),Object(s.jsx)("button",{className:"btn-white btn btn-xs",onClick:a(e.id),children:"Delete"})]})})]},e.id)}))})},Y=function(e){return!e&&Object(s.jsx)("tfoot",{children:Object(s.jsx)("tr",{children:Object(s.jsx)("td",{colSpan:"6",className:"footable-visible",children:Object(s.jsxs)("ul",{className:"pagination float-right",children:[Object(s.jsx)("li",{className:"footable-page-arrow disabled",children:Object(s.jsx)("a",{"data-page":"first",href:"#first",children:"\xab"})}),Object(s.jsx)("li",{className:"footable-page-arrow disabled",children:Object(s.jsx)("a",{"data-page":"prev",href:"#prev",children:"\u2039"})}),Object(s.jsx)("li",{className:"footable-page active",children:Object(s.jsx)("a",{"data-page":"0",href:"#",children:"1"})}),Object(s.jsx)("li",{className:"footable-page",children:Object(s.jsx)("a",{"data-page":"1",href:"#",children:"2"})}),Object(s.jsx)("li",{className:"footable-page-arrow",children:Object(s.jsx)("a",{"data-page":"next",href:"#next",children:"\u203a"})}),Object(s.jsx)("li",{className:"footable-page-arrow",children:Object(s.jsx)("a",{"data-page":"last",href:"#last",children:"\xbb"})})]})})})})},G=function(){return Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsxs)("th",{"data-toggle":"true",className:"footable-visible footable-first-column footable-sortable",children:["Company Name",Object(s.jsx)("span",{className:"footable-sort-indicator"})]}),Object(s.jsxs)("th",{"data-hide":"phone",className:"footable-visible footable-sortable",children:["Model",Object(s.jsx)("span",{className:"footable-sort-indicator"})]}),Object(s.jsxs)("th",{"data-hide":"all",className:"footable-sortable",style:{display:"none"},children:["Description",Object(s.jsx)("span",{className:"footable-sort-indicator"})]}),Object(s.jsxs)("th",{"data-hide":"phone",className:"footable-visible footable-sortable",children:["Price",Object(s.jsx)("span",{className:"footable-sort-indicator"})]}),Object(s.jsxs)("th",{"data-hide":"phone,tablet",className:"footable-sortable",style:{display:"none"},children:["Quantity",Object(s.jsx)("span",{className:"footable-sort-indicator"})]}),Object(s.jsxs)("th",{"data-hide":"phone",className:"footable-visible footable-sortable",children:["Status",Object(s.jsx)("span",{className:"footable-sort-indicator"})]}),Object(s.jsx)("th",{className:"text-right footable-visible footable-last-column","data-sort-ignore":"true",children:"Action"})]})})},K=function(e){Object(j.a)(a,e);var t=Object(m.a)(a);function a(e){return Object(l.a)(this,a),t.call(this,e)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.deleteCompany,a=e.showWiz,n=e.companies;return Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col-lg-12",children:Object(s.jsxs)("div",{className:"ibox",children:[Object(s.jsxs)("div",{className:"ibox-title",children:[Object(s.jsx)("h5",{children:"Companies Table "}),Object(s.jsxs)("div",{className:"ibox-tools",children:[Object(s.jsx)("a",{className:"collapse-link",children:Object(s.jsx)("i",{className:"fa fa-plus",onClick:a})}),Object(s.jsx)("a",{className:"dropdown-toggle","data-toggle":"dropdown",href:"#",children:Object(s.jsx)("i",{className:"fa fa-wrench"})}),Object(s.jsxs)("ul",{className:"dropdown-menu dropdown-user",children:[Object(s.jsx)("li",{children:Object(s.jsx)("a",{href:"#",className:"dropdown-item",children:"Config option 1"})}),Object(s.jsx)("li",{children:Object(s.jsx)("a",{href:"#",className:"dropdown-item",children:"Config option 2"})})]}),Object(s.jsx)("a",{className:"close-link",children:Object(s.jsx)("i",{className:"fa fa-times"})})]})]}),Object(s.jsx)("div",{className:"ibox-content",children:Object(s.jsxs)("table",{className:"table table-hover","data-page-size":"15",children:[Object(s.jsx)(G,{showWiz:a}),Object(s.jsx)(V,{companies:n,deleteCompany:t}),Object(s.jsx)(Y,{})]})})]})})})}}]),a}(c.a.Component),Q=function(){return Object(s.jsx)("div",{className:"content clearfix",children:Object(s.jsxs)("fieldset",{className:"body current",children:[Object(s.jsx)("h2",{children:"Terms and Conditions"}),Object(s.jsx)("input",{id:"acceptTerms",name:"acceptTerms",type:"checkbox",className:"required"})," ",Object(s.jsx)("label",{htmlFor:"acceptTerms",children:"I agree with the Terms and Conditions."})]})})},X=function(){return Object(s.jsx)("div",{className:"content clearfix",children:Object(s.jsx)("fieldset",{className:"body current",children:Object(s.jsx)("div",{className:"text-center",style:{marginTop:"120px"},children:Object(s.jsx)("h2",{children:"You did it Man :-)"})})})})},Z=function(e){var t=e.email,a=e.onChangeInput;return Object(s.jsx)("div",{className:"content clearfix",children:Object(s.jsxs)("fieldset",{className:"body current",children:[Object(s.jsx)("h2",{children:"Profile Information"}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsxs)("div",{className:"col-lg-6",children:[Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"First name *"}),Object(s.jsx)("input",{id:"name",name:"name",type:"text",className:"form-control required"})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Last name *"}),Object(s.jsx)("input",{id:"surname",name:"surname",type:"text",className:"form-control required"})]})]}),Object(s.jsxs)("div",{className:"col-lg-6",children:[Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Email *"}),Object(s.jsx)(p,{id:"Email",name:"email",type:"email",placeholder:"Email",value:t,onChangeInput:a})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Address *"}),Object(s.jsx)("input",{id:"address",name:"address",type:"text",className:"form-control"})]})]})]})]})})},$=function(e){var t=e.name,a=(e.email,e.password),n=e.confPassword,c=e.onChangeInput;return Object(s.jsx)("div",{className:"content clearfix",children:Object(s.jsxs)("fieldset",{className:"body current",children:[Object(s.jsx)("h2",{children:"Account Information"}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsxs)("div",{className:"col-lg-6",children:[Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Company name *"}),Object(s.jsx)(p,{id:"Name",name:"name",type:"text",placeholder:"Name",value:t,onChangeInput:c})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Password *"}),Object(s.jsx)(p,{id:"Password",type:"password",name:"password",placeholder:"Password",value:a,onChangeInput:c})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Confirm Password *"}),Object(s.jsx)(p,{id:"Confirm Password",type:"password",name:"confPassword",placeholder:"Confirm Password",value:n,onChangeInput:c})]})]}),Object(s.jsx)("div",{className:"col-lg-6",children:Object(s.jsx)("div",{className:"text-center",children:Object(s.jsx)("div",{style:{marginTop:"20px"},children:Object(s.jsx)("i",{className:"fa fa-sign-in",style:{fontSize:"180px",color:"#e5e5e5"}})})})})]})]})})},ee=[{id:1,name:"Account"},{id:2,name:"Profile"},{id:3,name:"Warning"},{id:4,name:"Finish"}],te=function(e){var t=e.step;return Object(s.jsx)("div",{className:"steps clearfix",children:Object(s.jsx)("ul",{role:"tablist",children:ee.map((function(e){return Object(s.jsx)("li",{role:"tab",className:(a=e.id,a===t?"current":a<t?"done":"disabled"),children:Object(s.jsxs)("a",{id:"form-t-0",children:[Object(s.jsx)("span",{className:"current-info audible",children:"current step: "}),Object(s.jsx)("span",{className:"number",children:e.id})," ",e.name]})},e.id);var a}))})})},ae=function(e){var t=e.step,a=e.nextStep,n=e.prevStep,c=e.values,r=e.addCompany,o=function(){return 4===t};return Object(s.jsx)("div",{className:"actions clearfix",children:Object(s.jsxs)("ul",{role:"menu","aria-label":"Pagination",children:[Object(s.jsx)("li",{className:t>1?"":"disabled",onClick:function(){return n()},children:Object(s.jsx)("a",{href:"#previous",role:"menuitem",children:"Previous"})}),!o()&&Object(s.jsx)("li",{"aria-hidden":"false",onClick:function(){return a()},children:Object(s.jsx)("a",{href:"#next",role:"menuitem",children:"Next"})}),Object(s.jsx)("li",{"aria-hidden":"true",style:{display:!o()&&"none"},onClick:r(c),children:Object(s.jsx)("a",{href:"#finish",role:"menuitem",children:"Finish"})})]})})},se=function(){return Object(s.jsxs)("div",{className:"ibox-title",children:[Object(s.jsx)("h5",{children:"Wizard with Validation"}),Object(s.jsxs)("div",{className:"ibox-tools",children:[Object(s.jsx)("a",{className:"collapse-link",children:Object(s.jsx)("i",{className:"fa fa-chevron-up"})}),Object(s.jsx)("a",{className:"dropdown-toggle","data-toggle":"dropdown",href:"#",children:Object(s.jsx)("i",{className:"fa fa-wrench"})}),Object(s.jsxs)("ul",{className:"dropdown-menu dropdown-user",children:[Object(s.jsx)("li",{children:Object(s.jsx)("a",{href:"#",className:"dropdown-item",children:"Config option 1"})}),Object(s.jsx)("li",{children:Object(s.jsx)("a",{href:"#",className:"dropdown-item",children:"Config option 2"})})]}),Object(s.jsx)("a",{className:"close-link",children:Object(s.jsx)("i",{className:"fa fa-times"})})]})]})},ne=function(e){Object(j.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).onChangeInput=function(e){var t=n.state.values,a=e.target,s=a.name,c=a.value,r=a.checked,o=a.type,l=Object(h.a)({},t),d="checkbox"===o?r:c;n.setState({values:Object(h.a)(Object(h.a)({},l),{},Object(i.a)({},s,d))})},n.nextStep=function(){return function(e){n.setState({step:n.state.step+1})}},n.prevStep=function(){return function(e){n.state.step>=2&&n.setState({step:n.state.step-1})}},n.getSteps=function(){return 1===n.state.step?Object(s.jsx)($,{values:!0,onChangeInput:n.onChangeInput}):2===n.state.step?Object(s.jsx)(Z,{values:!0,onChangeInput:n.onChangeInput}):3===n.state.step?Object(s.jsx)(X,{values:!0}):4===n.state.step?Object(s.jsx)(Q,{values:!0}):void 0},n.state={step:1,values:{name:"",email:"",role:"company",password:"",confPassword:"",termsNPolicy:!1}},n}return Object(d.a)(a,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"row.no-paddings",children:Object(s.jsx)("div",{className:"col-lg-12.no-paddings",children:Object(s.jsxs)("div",{className:"ibox.no-paddings",children:[Object(s.jsx)(se,{}),Object(s.jsx)("div",{className:"ibox-content",children:Object(s.jsxs)("form",{id:"form",action:"#",className:"wizard-big wizard clearfix",children:[Object(s.jsx)(te,{step:this.state.step}),this.getSteps(),Object(s.jsx)(ae,{step:this.state.step,nextStep:this.nextStep(),prevStep:this.prevStep(),addCompany:this.props.addCompany,values:this.state.values})]})})]})})})}}]),a}(c.a.Component),ce=a(70),re=a(68),oe=a(67),ie=function(){return Object(s.jsx)("div",{className:"middle-box text-center",children:Object(s.jsxs)("div",{className:"ibox",children:[Object(s.jsx)(oe.a,{type:"grow",color:"secondary"}),Object(s.jsx)(oe.a,{type:"grow",color:"secondary"}),Object(s.jsx)(oe.a,{type:"grow",color:"secondary"})]})})},le=function(e){Object(j.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).addCompany=function(e){return function(){var t=Object(y.a)(N.a.mark((function t(a){var n;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S.addCompany(e);case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),console.log(t.t0),s.setState({error:"Unable to add company."});case 9:s.setState({isLoading:!0}),(n=s.state.companies).push({id:n.length+1,role:e.role,name:e.name,login:e.email}),s.setState({companies:n,showAddCompWiz:!1,isLoading:!1});case 13:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}()},s.deleteCompanyHandle=function(e){return function(){var t=Object(y.a)(N.a.mark((function t(a){var n;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.stopPropagation(),s.setState({isLoading:!0}),t.prev=2,t.next=5,S.deleteCompany(e);case 5:n=(n=s.state.companies).filter((function(t){return t.id!==e})),s.setState({companies:n}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),console.log(t.t0),s.setState({error:"Unable to delete company."});case 14:s.setState({isLoading:!1});case 15:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}()},s.toggleModal=function(){s.setState((function(e){return{showAddCompWiz:!e.showAddCompWiz}}))},s.state={showAddCompWiz:!1,companies:[],isLoading:!1,error:""},s}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.setState({companies:S.getUserCompanies(this.props.user.companies)})}},{key:"render",value:function(){var e=this.props,t=e.role,a=e.user;return"user"===t?Object(s.jsx)("div",{className:"wrapper wrapper-content",children:this.state.isLoading?Object(s.jsx)(ie,{}):Object(s.jsxs)("div",{className:"wrapper wrapper-content animated fadeInRight ecommerce",children:[Object(s.jsx)(K,{user:a,showWiz:this.toggleModal,companies:this.state.companies,deleteCompany:this.deleteCompanyHandle}),Object(s.jsx)(ce.a,{isOpen:this.state.showAddCompWiz,toggle:this.toggleModal,backdropClassName:"modal-backdrop show",zIndex:2050,children:Object(s.jsx)(re.a,{children:Object(s.jsx)(ne,{addCompany:this.addCompany})})})]})}):Object(s.jsx)("div",{children:"Company"})}}]),a}(c.a.Component),de=function(){return Object(s.jsxs)("div",{className:"footer",children:[Object(s.jsxs)("div",{className:"float-right",children:["10GB of ",Object(s.jsx)("strong",{children:"250GB"})," Free."]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("strong",{children:"Copyright"})," Example Company \xa9 2014-2018"]})]})},je=function(e){var t=e.onLogOut,a=e.userObj,n=e.role;Object(R.a)(e,["onLogOut","userObj","role"]);return a?Object(s.jsxs)("div",{id:"wrapper",children:[Object(s.jsx)(J,{user:a,role:n}),Object(s.jsxs)("div",{id:"page-wrapper",className:"gray-bg",children:[Object(s.jsx)(q,{onLogOut:t,notifications:a.notifications,messages:a.messages,role:n}),Object(s.jsx)(H,{}),Object(s.jsx)(le,{role:n,user:a}),Object(s.jsx)(de,{})]})]}):Object(s.jsx)(u.a,{to:"/nomatch"})};je.defaultProps={};var me=function(){var e=Object(u.g)(),t=Object(u.h)().role,a=C.a.get([t]),c=function(){var e;return"user"===t?e=S.getUserById(a):"company"===t&&(e=S.getCompanyById(a)),e}();return Object(n.useEffect)((function(){e.push("/".concat(t,"/profile/").concat(a))}),[]),Object(s.jsx)(ye.Consumer,{children:function(e){return Object(s.jsx)(je,{onLogOut:e,userObj:c,role:t})}})};me.displayName="ProfileContainer";var be=me,ue=function(){return Object(n.useEffect)((function(){document.body.className="gray-bg"}),[]),Object(s.jsx)("div",{children:Object(s.jsxs)("div",{className:"middle-box text-center animated fadeInDown",children:[Object(s.jsx)("h1",{children:"404"}),Object(s.jsx)("h3",{className:"font-bold",children:"Page Not Found"}),Object(s.jsxs)("div",{className:"error-desc",children:["Sorry, but the page you are looking for has note been found. Try checking the URL for error, then hit the refresh button on your browser or try found something else in our app.",Object(s.jsxs)("form",{className:"form-inline m-t justify-content-center",role:"form",children:[Object(s.jsx)("div",{className:"form-group",children:Object(s.jsx)("input",{type:"text",className:"form-control",placeholder:"Search for page"})}),Object(s.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Search"})]})]})]})})},he=function(e){e.children;var t=Object(R.a)(e,["children"]),a=C.a.get("user"),n=C.a.get("company"),c=t.computedMatch.params.role,r=[{loginPath:"/".concat(c,"/login"),path:["/:role/","/:role/profile","/:role/profile/:id"],exact:!0,component:Object(s.jsx)(be,{})}];return Object(s.jsxs)(u.d,{children:[function(){console.log("private routes");var e=r.filter((function(e){return function(){var e=["all"];return a?e.push("user"):n&&e.push("company"),["user","company","all"]}().includes(c)}));return console.log(e,"rotes"),e}().map((function(e,t){return Object(s.jsx)(u.b,{exact:e.exact,path:e.path,render:function(t){var r=t.location;return function(e){return!("user"!==e||!a)||!("company"!==e||!n)}(c)?e.component:Object(s.jsx)(u.a,{to:{pathname:[e.loginPath],state:{from:r}}})}},t)})),Object(s.jsx)(u.b,{path:"*",children:Object(s.jsx)(ue,{})})]})},pe=function(e){var t=C.a.get("user"),a=C.a.get("company");console.log("public route",e);var n=e.computedMatch.params.role,c=function(){return console.log("notloginnedroute"),"undefined"===typeof e.location.state||"/"===e.location.state.from.pathname?function(){var e;return"user"===n&&t?e=T.filter((function(e){return e.id===S.getUserById(t).role}))[0].defaultPath:"company"===n&&a&&(e=T.filter((function(e){return e.id===S.getCompanyById(a).role}))[0].defaultPath),e}():e.location.state.from.pathname};return Object(s.jsx)(u.b,{render:function(){return"user"===n&&t||"company"===n&&a?Object(s.jsx)(u.a,{to:{pathname:c()}}):e.children}})},xe=function(e){Object(j.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"componentDidUpdate",value:function(){document.body.className=""}},{key:"render",value:function(){var e=this.props,t=(e.user,e.onLogin),a=e.onLogOut,n=e.onRegistr;e.company;return Object(s.jsxs)(b.a,{basename:"/multi-tenant-subscription-app",children:[Object(s.jsx)(u.b,{exact:!0,path:"/",children:Object(s.jsx)(u.a,{to:"/user"})}),Object(s.jsxs)(u.d,{children:[Object(s.jsx)(pe,{exact:!0,path:["/:role/login","/:role/login"],children:Object(s.jsx)(F,{onLogin:t,user:!0,company:!0})}),Object(s.jsx)(pe,{exact:!0,path:["/:role/register","/:role/register"],children:Object(s.jsx)(M,{onRegistr:n})}),Object(s.jsx)(he,{path:["/:role/:page/:id","/:role/:page","/:role"],onLogOut:a})]})]})}}]),a}(c.a.Component),Oe=a(69),fe=a(38),ge=function(e){var t=c.a.useState(!1),a=Object(z.a)(t,2),n=a[0],r=a[1],o=c.a.useState(null),i=Object(z.a)(o,2),l=i[0],d=i[1],j=e.id,m=(e.type,e.messageHeader),b=e.messageText;c.a.useEffect((function(){u()}),[]);var u=function(){var e=setTimeout((function(){h()}),2e3);d(e)},h=function(){r(!0),setTimeout((function(){e.dispatch({id:j,type:"REMOVE_NOTIFICATION"})}),400)};return Object(s.jsxs)("div",{className:"toast toast-bootstrap ".concat(n?"fade ":"fade show"),role:"alert","aria-live":"assertive","aria-atomic":"true",onMouseEnter:function(){clearTimeout(l)},onMouseLeave:u,children:[Object(s.jsxs)("div",{className:"toast-header",children:[Object(s.jsx)("i",{className:"fa fa-newspaper-o",children:" "}),Object(s.jsx)("strong",{className:"mr-auto m-l-sm",children:m}),Object(s.jsx)("small",{children:"2 seconds ago"}),Object(s.jsx)("button",{type:"button",className:"ml-2 mb-1 close","data-dismiss":"toast","aria-label":"Close",onClick:h,children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsx)("div",{className:"toast-body",children:b})]})},ve=c.a.createContext(),Ne=function(e){var t=c.a.useReducer((function(e,t){switch(t.type){case"ADD_NOTIFICATION":return[].concat(Object(fe.a)(e),[Object(h.a)({},t.payload)]);case"REMOVE_NOTIFICATION":return e.filter((function(e){return e.id!==t.id}));default:return e}}),[]),a=Object(z.a)(t,2),n=a[0],r=a[1];return Object(s.jsxs)(ve.Provider,{value:r,children:[Object(s.jsx)("div",{style:{position:"fixed",top:"20px",right:"20px"},children:n.map((function(e){return Object(s.jsx)(ge,Object(h.a)({dispatch:r},e),e.id)}))}),e.children]})},ye=c.a.createContext(),we=function(e){Object(j.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).onLogOut=function(t){console.log(t,"logout"),"user"===t?(C.a.remove("user"),e.setState({user:!1})):"company"===t&&(C.a.remove("company"),e.setState({company:!1}))},e.onRegistr=function(t){t.preventDefault(),e.setState({register:!1})},e.onLogin=function(t){var a=S.getUserByLogin(t);"undefined"!==typeof a?a.role===A.user?(C.a.set("user",a.id),e.setState({user:a})):a.role===A.company&&(C.a.set("company",a.id),e.setState({company:a})):(0,e.context)({type:"ADD_NOTIFICATION",payload:{id:Object(Oe.a)(),type:"SUCCESS",messageHeader:"Loggin error",messageText:"To enter first you need to register"}})},e.onSubmit=function(t){var a=t.target.name;e.setState(Object(i.a)({},a,!0)),t.preventDefault()},e.state={user:!1,company:!1,register:!0,login:!0,err:{}},e}return Object(d.a)(a,[{key:"componentDidUpdate",value:function(){console.log("didupdate app")}},{key:"componentDidMount",value:function(){console.log("didmount app")}},{key:"render",value:function(){var e=this.state,t=e.user,a=e.company;return Object(s.jsx)(ye.Provider,{value:this.onLogOut,children:Object(s.jsx)(xe,{user:t,company:a,onLogin:this.onLogin,isLoginnedUser:this.isLoginnedUser,onLogOut:this.onLogOut,onRegistr:this.onRegistr})})}}]),a}(c.a.Component);we.contextType=ve;var Ce=we,ke=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,71)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),s(e),n(e),c(e),r(e)}))};o.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(Ne,{children:Object(s.jsx)(Ce,{})})}),document.getElementById("root")),ke()}},[[66,1,2]]]);
//# sourceMappingURL=main.bced2b0a.chunk.js.map